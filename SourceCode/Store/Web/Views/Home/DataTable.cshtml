
@{
    ViewBag.Title = "DataTable";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section header{
    
<link href="~/Content/datatable/dataTables.bootstrap.min.css" rel="stylesheet" />
<link href="~/Content/datatable/responsive.bootstrap.min.css" rel="stylesheet" />
<link href="~/Content/datatable/buttons.dataTables.min.css" rel="stylesheet" />
    <!---button show or hide column-->
<link href="~/Content/datatable/buttons.dataTables.min.css" rel="stylesheet" />
<link href="~/Content/datatable/dataTable.custom.css" rel="stylesheet" />
}
<div class="row">
    <div class="col-md-12">
        <h2>DataTable</h2>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        @Html.TextBox("txtFocus1", "None Focus value", new { @class = "form-control", })
        @Html.TextBox("txtFocus", "Focus value", new { @class = "form-control", @autofocus = "" })
        @Html.TextBox("txtFocus2", "None Focus value", new { @class = "form-control", })
    </div>
</div>

<div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <table id="example" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th>Teen</th>
                    <th>Ten 2</th>
                    <th>Position</th>
                    <th>Office</th>
                </tr>
            </thead>
            <tbody>
                <tr id="0">
                    <td>1</td>
                    <td>Name</td>
                    <td>Add</td>
                    <td>ad</td>
                </tr>
                <tr id="1">
                    <td>1</td>
                    <td>Name</td>
                    <td>Add</td>
                    <td>ad</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<input type="text" class="priceNumber"/>

@section script{
    
<script src="~/Content/datatable/jquery.dataTables.min.js"></script>
<script src="~/Content/datatable/dataTables.bootstrap.min.js"></script>
<script src="~/Content/datatable/dataTables.responsive.min.js"></script>
<script src="~/Content/datatable/responsive.bootstrap.min.js"></script>
    <!---button show or hide column-->
<script src="~/Content/datatable/dataTables.buttons.min.js"></script>
<script src="~/Content/datatable/buttons.colVis.min.js"></script>
    <script>
        document.getElementById("txtFocus").focus();
        var selected = [];
        $(document).ready(function () {

            $('#example').DataTable({
                responsive: true,
                //For button
                //dom: 'Bfrtip',
                buttons: [
                    'colvis'
                ],
                //lengthMenu: [[10, 25, 50, -1], [10, 25, 50, "All"]],
                processing: true,
                serverSide: false,
                searching: true,
                ordering: true,
                paging: true,
                pageLength: 10,
                pagingType: 'full_numbers',
                info: true,
                initComplete: function (settings, json) {
                    //Do something after finish
                },
                language: {
                    lengthMenu: 'Hiển thị _MENU_ dòng mỗi trang',
                    zeroRecords: 'Dữ liệu không tồn tại',
                    info: 'Trang _PAGE_/_PAGES_',
                    infoEmpty: '',//'Không tìm thấy kết quả',
                    infoFiltered: '',//'(Tìm kiếm trên _MAX_ dòng)',
                    search: 'Tìm kiếm',
                    processing: 'Đang xử lý',
                    paginate: {
                        first: '<<',
                        previous: '<',
                        next: '>',
                        last: '>>'
                    }
                },
                order: [[1, "asc"]],
                //ajax: {
                //    url: '/home/getdata',
                //    type: 'post',
                //    data: function (d) {
                //        //d.ModuleCode = $('#moduleCode').val()
                //    }
                //},
                columns: [
                    {
                    orderable: false,
                    width: '40px',
                    render: function (obj, type, data, meta) {
                            var index = meta.row + meta.settings._iDisplayStart + 1;
                            return '<div class="ctn-center text-bold">' + index + '<div/>';
                        }
                    },
                    {
                        data: 'Name',
                        orderable: true,
                        searchable: true,
                    },
                    {
                        data: 'Address',
                        orderable: true,
                        searchable: true
                    },
                    {
                        data: 'Phone',
                        orderable: true,
                        searchable: true
                    }
                ]
            });
        });

        $('#example tbody').on('click', 'tr', function () {
            console.log('ok');
            var id = this.id;
            var index = $.inArray(id, selected);

            if (index === -1) {
                selected.push(id);
            } else {
                selected.splice(index, 1);
            }

            $(this).toggleClass('selected');
        });

    </script>
}

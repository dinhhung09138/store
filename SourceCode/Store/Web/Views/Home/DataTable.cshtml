@model IEnumerable<Web.Controllers.ListData>
@{
    ViewBag.Title = "DataTable";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section header{
    
<link href="~/Content/datatable/dataTables.bootstrap.min.css" rel="stylesheet" />
<link href="~/Content/datatable/responsive.bootstrap.min.css" rel="stylesheet" />
<link href="~/Content/datatable/buttons.dataTables.min.css" rel="stylesheet" />
    <!---button show or hide column-->
<link href="~/Content/datatable/buttons.dataTables.min.css" rel="stylesheet" />
<link href="~/Content/datatable/dataTable.custom.css" rel="stylesheet" />
}
<div class="row">
    <div class="col-md-12">
        <h2>DataTable</h2>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        @Html.TextBox("txtFocus1", "None Focus value", new { @class = "form-control", })
        @Html.TextBox("txtFocus", "Focus value", new { @class = "form-control", @autofocus = "" })
        @Html.TextBox("txtFocus2", "None Focus value", new { @class = "form-control", })
    </div>
</div>

<div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <table id="example" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th>Teen</th>
                    <th>Ten 2</th>
                    <th>Position</th>
                    <th>Office</th>
                </tr>
            </thead>
            <tbody>
                <tr id="0">
                    <td>1</td>
                    <td>Name</td>
                    <td>Add</td>
                    <td>ad</td>
                </tr>
                <tr id="1">
                    <td>1</td>
                    <td>Name</td>
                    <td>Add</td>
                    <td>ad</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<br />
<br />
<span id="resultForm"></span>
<br />
<br />
<input type="text" class="priceNumber"/>
<br/>
<br/>
@using (Ajax.BeginForm("savedata", "home", new AjaxOptions { HttpMethod = "post", UpdateTargetId = "resultForm" }, new { @id = "inputForm" }))
{
    <input type="text" name="Code" id="Code" /><br/>
    <input type="text" name="Name" id="Name" /><br />
    <input type="text" name="Code" id="Code" /><br />
    <input type="text" name="Name" id="Name" /><br />
    <input type="submit" value="Save"/>
}


<div class="modal fade custom-model" id="inputModel" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Header</h4>
            </div>
            <div class="modal-body">
                <div class="container">
                    <div class="row">
                        sdfsfs
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <a href="javascript:;" onclick="clearInputModal()" class="btn btn-default">Đóng</a>
                <button class="btn btn-primary primary-button">Lưu</button>
            </div>
        </div>
    </div>
</div>

@section script{
    
    <script>
        document.getElementById("txtFocus").focus();
        var selected = [];
        $(document).ready(function () {
            
            $('#inputModel').modal('show');
        });

        $('#example tbody').on('click', 'tr', function () {
            console.log('ok');
            var id = this.id;
            var index = $.inArray(id, selected);

            if (index === -1) {
                selected.push(id);
            } else {
                selected.splice(index, 1);
            }

            $(this).toggleClass('selected');
        });


        $('#inputForm').submit(function () {
            if ($(this).valid()) {
                $.ajax({
                    url: this.action,
                    type: this.method,
                    data: $(this).serialize(),
                    success: function (result) {
                        console.log(result);
                    },
                    error: function (xhr, ajaxOptions, thrownError) {
                      
                    }
                });
            }
            return false;
        });

    </script>
}
